<!DOCTYPE html>
<html lang="en"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:ui="http://java.sun.com/jsf/facelets">
    


<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>
<script src="bootstrap/js/bootstrap.min.js"></script>
   <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen"></link>
  <script src="http://code.jquery.com/jquery.js"></script>

<title>Administrator</title>
</head>
<body>
<div style="margin:0px auto;">
<h1>Administrator Controller</h1>
<f:view>
<h:commandButton value="Logout"
action="#{AdministratorBean.logout}"/>


    <h:outputLabel value="User:" />
    <h:outputText value="#{LoginBean.username}" />

     <h:form id="form" enctype="multipart/form-data">
  <h:inputFile id="file" value="#{AdministratorBean.file}"
      validator="#{AdministratorBean.validateFile}"/>
  <h:commandButton value="Upload"
      action="#{AdministratorBean.upload}">
   
  </h:commandButton>
 
</h:form>
  
<h:dataTable value="#{AdministratorBean.task}" var="o"
      styleClass="todo" headerClass="todoheader"
      columnClasses="first, rest">
      <h:column>
       
        <f:facet name="header">
          <h:column>
            <h:outputText value="ID"></h:outputText>
          </h:column>
        </f:facet>
        <h:outputText value="#{o.id}"></h:outputText>
      </h:column>
      <h:column>

        <f:facet name="header">
          <h:column>
            <h:outputText value="Name"></h:outputText>
          </h:column>
        </f:facet>
        <h:outputText value="#{o.name}"></h:outputText>

      </h:column>

      <h:column>

        <f:facet name="header">
          <h:column>
            <h:outputText value="State"></h:outputText>
          </h:column>
        </f:facet>
        <h:outputText value="#{o.state}"></h:outputText>
      </h:column>
 <h:column>
    
        <f:facet name="header">
          <h:column>
            <h:outputText value="Progress bar"></h:outputText>
          </h:column>
        </f:facet>
 <rich:progressBar value="#{AdministratorBean.updateProgress()}" enabled="true" interval="100"/>

      </h:column>
      
       <h:column>

        <f:facet name="header">
          <h:column>
            <h:outputText value="ETA"></h:outputText>
          </h:column>
        </f:facet>
        <h:outputText value="#{o.estimatedTime}"></h:outputText>
      </h:column>
      
      <h:column>
      
        <f:facet name="header">
          <h:column>
            <h:outputText value="Actions"></h:outputText>
          </h:column>
        </f:facet>
        <h:panelGrid columns="4">
         <h:commandButton value="edit task" action="#{AdministratorBean.editTask()}"/>
          <h:commandButton value="stop task" action="#{AdministratorBean.stopTask()}"/>
           <h:commandButton value="run task" action="#{AdministratorBean.runTask()}"/>
           <h:commandButton value="publish task" action="#{AdministratorBean.publishTask()}"/>
        </h:panelGrid>
      </h:column>

    </h:dataTable>

</f:view>
</div>
</body>
</html>