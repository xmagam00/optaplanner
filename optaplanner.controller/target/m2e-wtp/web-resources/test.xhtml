<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>
    	<h:outputStylesheet library="css" name="table-style.css"  />
    </h:head>
    <h:body>
    	
    	<h1>JSF 2 dataTable example</h1>
    	
    	
    	<h:form>
    		<h:dataTable value="#{AdministratorBean.user}" var="o"
    			styleClass="order-table"
    			headerClass="order-table-header"
    			rowClasses="order-table-odd-row,order-table-even-row"
    		>

    			<h:column>
    			
    				<f:facet name="header">Username</f:facet>
    				
    				<h:inputText value="#{o.username}" size="10" rendered="#{o.editable}" />
    				
    				<h:outputText value="#{o.username}" rendered="#{not o.editable}" />
					
    			</h:column>
    			
    			<h:column>
    			
    				<f:facet name="header">password</f:facet>
    				
    				
    				
    				<h:outputText value="#{o.password}"  />
					
    			</h:column>
    			<h:column>
    			
    				<f:facet name="header">Role</f:facet>
    				
    				<rich:inplaceSelect value="#{o.role}"
        defaultLabel="Click here to edit" rendered="#{o.editable}">
        <f:selectItem itemValue="Reader" itemLabel="Reader" />
        <f:selectItem itemValue="Administrator" itemLabel="Administrator" />
        <f:selectItem itemValue="Planner" itemLabel="Planner" />
   
    </rich:inplaceSelect>
    				
    				<h:outputText value="#{o.role}" rendered="#{not o.editable}" />
					
    			</h:column>
    			
    			<h:column>
    			
    				<f:facet name="header">Organization</f:facet>
    				
    				<rich:inplaceSelect value="#{o.organization}"
        defaultLabel="Click here to edit" rendered="#{o.editable}">
        <f:selectItem itemValue="IBM" itemLabel="IBM" />
        <f:selectItem itemValue="Red Hat" itemLabel="Red Hat" />
        
   
    </rich:inplaceSelect>
    				
    				<h:outputText value="#{o.organization}" rendered="#{not o.editable}" />
					
    			</h:column>
    		
    			<h:column>
    				
    				<f:facet name="header">Action</f:facet>
    				
    				<h:panelGrid columns="3">
<h:commandButton value="Edit User" action="#{AdministratorBean.editAction(o)}" rendered="#{not uis.editable}" />
<h:commandButton value="Delete User" action="#{AdministratorBean.deleteUser()}"/>
<h:commandButton value="Change Password" show="popup5" >
 <rich:componentControl target="popup5" operation="show" />
    </h:commandButton>
    <rich:popupPanel id="popup5" modal="false" autosized="true"
        resizeable="false">
       
            <h:panelGrid columns="2">
            <h:outputText value="Password" /> <h:inputText value="nieco" ></h:inputText>
            <h:outputText value="Re-type Password" /> <h:inputText value="ble" ></h:inputText>
             </h:panelGrid>
            <h:commandButton value="Change password" action="#{AdministratorBean.changePasswordForUser()}"  onclick="#{rich:component('popup5')}.hide(); return false;" />
           
       
            <h:outputLink value="#"
                onclick="#{rich:component('popup5')}.hide(); return false;">
                    Close Window
                </h:outputLink>
                
       
       
       
       
       
    </rich:popupPanel>
</h:panelGrid>
    				
    			</h:column>

    		</h:dataTable>
    		
    		<h:commandButton value="Save Changes" action="#{AdministratorBean.saveAction}" />
    		
    	</h:form>
    </h:body>
		
</html>