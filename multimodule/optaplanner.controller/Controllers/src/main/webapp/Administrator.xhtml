<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:b="http://richfaces.org/sandbox/bootstrap">



<h:head>
<meta charset="utf-8"></meta>
<meta name="viewport" content="width=device-width, initial-scale=1"></meta>

    <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
    <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
    <meta name="description" content="Optaplanner service"></meta>
    <meta name="author" content="Martin Maga"></meta>

  <h:outputStylesheet library="css" name="bootstrap.css"  />

	<style>
body {
	
	background-color: #eee !important;;
  margin: 0; 
    padding: 0;
    text-align: center;
    height:900px;
}

html, body {
    width: 100%;
}
table {
    margin: 0 auto;
}

tr.spaceUnder > td
{
  padding-bottom: 1em;
}

</style>
	<title>Administrator</title>
</h:head>
<h:body class="bodyclass">

		<f:view>



<h:form>
			<h:commandButton class="btn pull-right" value="Logout"
				action="#{AdministratorBean.logout}"></h:commandButton>
			<h:outputText style="margin-right:10px;" value="#{AdministratorBean.loggedUsername}" class="pull-right" />
			<h:outputLabel style="margin-left:5px;" value="User:" class="pull-right" />
		</h:form>	


<ul class="nav nav-tabs" id="MyTab">
  <li class="active"><a href="#task" data-toggle="tab">Tasks</a></li>
  <li><a href="#usermanagement" data-toggle="tab">User Management</a></li>
  <li><a href="#changepassword" data-toggle="tab">Change Password</a></li>
  <li><a href="#organizationmanagement" data-toggle="tab">Organization Management</a></li>
</ul>

<div class="tab-content">
			

			 <div class="tab-pane active" id="task">
<!-- Modal -->

 <h:form>


			
<table style="display: inline-block;margin-top:50px;text-align:left;">

								<tr class="spaceUnder">
									<td><h:outputText  value="Name of task:" /> <h:inputText type="text" class="form-control"
											value="#{AdministratorBean.name}" maxlength="100" width="20"/> </td><td><h:outputText value="Enter Name of task"  style="color:red" rendered="#{AdministratorBean.renderName}" /></td>
								</tr>
								<tr  class="spaceUnder">
									<td><h:outputText value="Load XML FILE" /></td><td><h:outputText value="Upload some file"  style="color:red" rendered="#{AdministratorBean.renderUpload}" /></td>
								</tr>


								<tr class="spaceUnder">
									<td><rich:fileUpload
											fileUploadListener="#{AdministratorBean.listener}"
											id="upload" maxFilesQuantity="1" /></td>
								</tr>
								<tr>
									<td><h:commandButton class="btn btn-default"
											value="Create task"
											action="#{AdministratorBean.createTask()}" /></td>
								</tr>
							</table>

							<table style="float: left;margin-top:50px;margin-left:100px;margin-right:50px;" >
								<tr>
									<td><h:outputText value="Enter String to find:" /></td>
									<td><h:inputText type="text" class="form-control" value="#{AdministratorBean.nieco}" /></td><td><h:outputText value="Enter string to find" style="color:red;" rendered="#{AdministratorBean.renderFind}" /></td>
								</tr>



								<tr>
									<td><h:outputText value="Select option to find" style="margin-right:10px;"/></td>
									<td><rich:select  defaultLabel="Select option" value="#{AdministratorBean.findOption}">
                <f:selectItem itemValue="ID" itemLabel="ID" />
                <f:selectItem itemValue="Permission" itemLabel="Permission" />
                <f:selectItem itemValue="Owner" itemLabel="Owner" />
            </rich:select></td><td><h:outputText value="Select option" style="color:red;" rendered="#{AdministratorBean.renderOption}" /></td>


								</tr>



								<tr>
									<td><h:commandButton class="btn btn-default btn-lg"
											value="Find" action="#{AdministratorBean.findList}" /></td>
								</tr>
							</table>

						
			



   </h:form>




<h:form>
					<a4j:poll id="poll33" action="#{AdministratorBean.updateTasks()}"
						interval="1000" reRender="userTab,poll33"     limitToList="true"
						enabled="#{AdministratorBean.renderPoll}">
						
					</a4j:poll>
		
					<a4j:poll interval="1000" reRender="editUser" enabled="true">
					</a4j:poll>
</h:form>
<h:form >

					<h:dataTable value="#{AdministratorBean.task}" var="o"
						class="table table-hover" id="userTab" rows="5" ajaxRendered="true">
										
						<h:column>

							<f:facet name="header">
				
						<h:commandLink  action="#{AdministratorBean.sortById}" >	
							
									<h:outputText value="ID"></h:outputText>
							</h:commandLink>
						
							</f:facet>
							<h:outputText value="#{o.id}"></h:outputText>

						</h:column>
						<h:column>

							<f:facet name="header">
				
								<h:commandLink action="#{AdministratorBean.sortByName}">
									<h:outputText value="Name"></h:outputText>
								</h:commandLink>
				
							</f:facet>


							<h:outputText value="#{o.name}" />

						</h:column>

						<h:column>

							<f:facet name="header">
								<h:column>
							
									<h:commandLink action="#{AdministratorBean.sortByState}">
										<h:outputText value="State"></h:outputText>
									</h:commandLink>
					
								</h:column>
							</f:facet>
							<h:outputText value="#{o.state}"></h:outputText>
						</h:column>
						<h:column>

							<f:facet name="header">
								<h:column>
									<h:outputText value="Progress"></h:outputText>
								</h:column>
							</f:facet>
							<rich:progressBar interval="100" value="#{o.progress}"></rich:progressBar>


						</h:column>

						<h:column>

							<f:facet name="header">
								<h:column>
								
									<h:commandLink action="#{AdministratorBean.sortByETA}">
										<h:outputText value="ETA"></h:outputText>
									</h:commandLink>
						
								</h:column>
							</f:facet>

							<h:outputText value="#{o.estimatedTime}"></h:outputText>

						</h:column>

						<h:column>

							<f:facet name="header">
								<h:column>
							
									<h:commandLink action="#{AdministratorBean.sortByPermission}">
										<h:outputText value="Permission"></h:outputText>
									</h:commandLink>
							
								</h:column>
							</f:facet>
							<h:outputText value="#{o.ifPublic}"></h:outputText>
						</h:column>

						<h:column>

							<f:facet name="header">
								<h:column>
								
									<h:commandLink action="#{AdministratorBean.sortByOwner}">
										<h:outputText value="Owner"></h:outputText>
									</h:commandLink>
						
								</h:column>
							</f:facet>
							<h:outputText value="#{o.owner}"></h:outputText>



						</h:column>

						<h:column>

							<f:facet name="header">
								<h:column>
									<h:outputText value="Actions"></h:outputText>
								</h:column>
							</f:facet>
							<h:panelGrid columns="6">
				
								<a4j:commandButton styleClass="btn btn-default" value="Edit Task"
									action="#{AdministratorBean.editXmlFile(o)}"
									rendered="#{o.renderEdit}" oncomplete="$('#myModal3').modal('show')" data-toggle="modal" data-target="#myModal3" />
								<a4j:commandButton styleClass="btn btn-default" value="Stop task"
									action="#{AdministratorBean.stopTask(o)}"
									rendered="#{o.renderStop}" oncomplete="$('#myModal5').modal('show')" data-toggle="modal" data-target="#myModal5" />
								<a4j:commandButton styleClass="btn btn-default" value="Run task"
									action="#{AdministratorBean.runTask(o)}"
									rendered="#{o.renderRun}" oncomplete="$('#myModal4').modal('show')"  data-toggle="modal" data-target="#myModal4" />
								
								<a4j:commandButton styleClass="btn btn-default"
									value="Publish Task"
									action="#{AdministratorBean.publishTask(o)}"
									oncomplete="$('#myModal').modal('show')"
									rendered="#{o.renderPublish}" data-toggle="modal" data-target="#myModal" />

								<a4j:commandButton styleClass="btn btn-default" value="delete task"
									action="#{AdministratorBean.deleteTask(o)}"
									rendered="#{o.renderDelete}" />
<a4j:commandButton styleClass="btn btn-default"
									value="UnPublish Task"
									action="#{AdministratorBean.unpublishTask(o)}"
									
									rendered="#{o.renderUnpublish}" data-toggle="modal" data-target="#myModal2" oncomplete="$('#myModal2').modal('show')"/>





















							</h:panelGrid>
						</h:column>

					</h:dataTable>
					
<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">close</button>
        <h4 class="modal-title" id="myModalLabel">Modal title</h4>
      </div>
      <div class="modal-body">
      Task has been publish. Link: <h:outputText value="#{AdministratorBean.publishInformation}" />
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
       
      </div>
    </div>
  </div>
</div>	


<!-- Modal -->
<div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">close</button>
        <h4 class="modal-title" id="myModalLabel">Modal title</h4>
      </div>
      <div class="modal-body">
     Task has been unpublished.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
       
      </div>
    </div>
  </div>
</div>	


<!-- Modal -->
<div class="modal fade" id="myModal3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">close</button>
        <h4 class="modal-title" id="myModalLabel">Modal title</h4>
      </div>
      <div class="modal-body">
     <table>
     <tr><td>  <h:outputText value="Name of Task:" /></td><td>
      <h:inputText type="text" class="form-control" value="#{AdministratorBean.name}" /></td></tr>
     <tr><td><h:outputText value="Enter owner" /></td><td> <rich:select>
       <f:selectItems value="#{AdministratorBean.editableOwner}"  />
      
      </rich:select></td></tr>
      <tr><td><h:inputTextarea cols="20" rows="20" value="#{AdministratorBean.xmlFile}" /></td></tr>
      </table>
     
      <a4j:commandButton value="Save Changes" oncomplete="$('#myModal3').modal('hide')" styleClass="btn btn-default" action="#{AdministratorBean.saveXmlFile}"/>
      </div>
      <div class="modal-footer">
        <button type="button" styleClass="btn btn-default" data-dismiss="modal">Close</button>
       
      </div>
    </div>
  </div>
</div>			

<!-- Modal -->
<div class="modal fade" id="myModal4" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">close</button>
        <h4 class="modal-title" id="myModalLabel">Modal title</h4>
      </div>
      <div class="modal-body">
     Task has been running.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
   
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="myModal5" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">close</button>
        <h4 class="modal-title" id="myModalLabel">Modal title</h4>
      </div>
      <div class="modal-body">
        Task has been stopped.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
       
      </div>
    </div>
  </div>
</div>



		
					
					</h:form>
					<table>
						<tr>
							<td><rich:dataScroller for="userTab" maxPages="5" /></td>
						</tr>

						<tr>
							<td><h:form><h:commandButton class="btn btn-default"
									value="Show all tasks"
									action="#{AdministratorBean.saveActionTask()}" /></h:form></td>
						</tr>
					</table>
				
					</div>
				
		

				<div class="tab-pane" id="usermanagement">
					<h:form>
								<table style="display: inline-block;margin-top:50px;text-align:left;">
									<tr>
										<td><h:outputText value="Enter String to find:" /></td>
										<td><h:inputText  type="text" class="form-control" value="#{AdministratorBean.nieco}" /></td><td><h:outputText value="Enter string to find" style="color:red;" rendered="#{AdministratorBean.renderFind2}" /></td>
									</tr>



									<tr>
										<td><h:outputText value="Select option to find" /></td>
										<td><rich:select  defaultLabel="Select option" value="#{AdministratorBean.findOption}">
                <f:selectItem itemValue="Username" itemLabel="Username" />
                <f:selectItem itemValue="Organization" itemLabel="Organization" />
                <f:selectItem itemValue="Email" itemLabel="Email" />
                   <f:selectItem itemValue="Role" itemLabel="Role" />
            </rich:select></td><td><h:outputText value="Enter option" rendered="#{AdministratorBean.renderOption2}" /></td>


									</tr>



									<tr>
										<td><h:commandButton class="btn btn-default btn-lg"
												value="Find" action="#{AdministratorBean.findListOrganization}" /></td>
									</tr>
								</table>




								<table style="float:left;margin-top:50px;margin-left:100px;margin-right:50px;" >
									<tr class="spaceUnder">
										<td>Username:</td>
										<td><h:inputText type="text" class="form-control" maxlength="100" value="#{AdministratorBean.username}" />
										</td><td><h:outputText value="Enter username"  style="color:red" rendered="#{AdministratorBean.renderUsername}"/></td>
									</tr>
									<tr class="spaceUnder">
										<td>Password:</td>
										<td><h:inputSecret type="text" class="form-control" maxlength="100" value="#{AdministratorBean.pass}" /></td><td><h:outputText  style="color:red"  value="Enter password" rendered="#{AdministratorBean.renderPassword}" /></td>
									</tr>
									<tr class="spaceUnder">
										<td>Re-type password:</td>
										<td><h:inputSecret type="text" class="form-control"
												value="#{AdministratorBean.passwordValidate}" maxlength="100" /></td><td><h:outputText value="Re-type password"  style="color:red" rendered="#{AdministratorBean.renderPasswordValidate}" /></td><td><h:outputText  style="color:red" value="Password must match" rendered="#{AdministratorBean.renderPasswordNot}" /></td>
									</tr>
									<tr class="spaceUnder">
										<td>Email:</td>
										<td><h:inputText type="text" class="form-control" maxlength="100" value="#{AdministratorBean.email}" /></td><td><h:outputText  style="color:red" value="Enter email" rendered="#{AdministratorBean.renderEmail}" /></td><td><h:outputText value="Email not in correct format" rendered="#{AdministratorBean.renderEmailFormat}" /></td>
									</tr>
									<tr class="spaceUnder">
										<td>Organization:</td>
										<td><rich:select
												value="#{AdministratorBean.organization}"
												showControls="true">


												<f:selectItems
													value="#{AdministratorBean.editableOrganizations}"
													id="editOrg" />
											</rich:select></td><td><h:outputText value="Enter organization"   style="color:red" rendered="#{AdministratorBean.renderOrganization}" /></td>
									</tr>
									<tr class="spaceUnder">
										<td>Role:</td>
										<td><rich:select value="#{AdministratorBean.role}"
												defaultLabel="Click here to edit">
												<f:selectItem itemValue="Reader" itemLabel="Reader" />
												<f:selectItem itemValue="Administrator"
													itemLabel="Administrator" />
												<f:selectItem itemValue="Planner" itemLabel="Planner" />

											</rich:select></td><td><h:outputText value="Enter user role"  style="color:red" rendered="#{AdministratorBean.renderRole}" /></td>
									</tr>
									<tr class="spaceUnder">
										<td><h:commandButton class="btn btn-default"
												value="Create User"
												action="#{AdministratorBean.createUser()}" /></td>
									</tr>
								</table>
</h:form>
							
				<h:form style="position:relative;top:220px;left:-350px">
					<a4j:region id="ren" selfRendered="true">
						<a4j:poll
							action="#{AdministratorBean.updateEditableOrganizations()}"
							interval="300" ajaxSingle="true" limitToList="true"
							bypassUpdates="true">
						</a4j:poll>
						<a4j:poll reRender="editUSER" interval="100">
						</a4j:poll>

					</a4j:region>
					<h:dataTable value="#{AdministratorBean.user}" var="po"
						class="table table-hover" 
						
						id="editUSER" rows="10" >

						<h:column>

							<f:facet name="header">
								<h:column>
									<h:commandLink action="#{AdministratorBean.sortByUsername}">
										<h:outputText value="Username"></h:outputText>
									</h:commandLink>
								</h:column>
							</f:facet>
							<h:inputText value="#{po.username}" size="10"
								rendered="#{po.editable}" />

							<h:outputText value="#{po.username}"
								rendered="#{not po.editable}" />
						</h:column>






						<h:column>

							<f:facet name="header">password</f:facet>



							<h:outputText value="#{po.password}" />

						</h:column>

						<h:column>

							<f:facet name="header">
								<h:column>
									<h:commandLink action="#{AdministratorBean.sortByEmail}">
										<h:outputText value="Email"></h:outputText>
									</h:commandLink>
								</h:column>
							</f:facet>
							<h:inputText value="#{po.email}" size="10"
								rendered="#{po.editable}" />

							<h:outputText value="#{po.email}" rendered="#{not po.editable}" />
						</h:column>

						<h:column>

							<f:facet name="header">
								<h:column>
									<h:commandLink action="#{AdministratorBean.sortByRole}">
										<h:outputText value="Role"></h:outputText>
									</h:commandLink>
								</h:column>
							</f:facet>
							<rich:select value="#{po.role}"
								defaultLabel="Click here to edit" rendered="#{po.editable}">
								<f:selectItem itemValue="Reader" itemLabel="Reader" />
								<f:selectItem itemValue="Administrator"
									itemLabel="Administrator" />
								<f:selectItem itemValue="Planner" itemLabel="Planner" />

							</rich:select>

							<h:outputText value="#{po.role}" rendered="#{not po.editable}" />
						</h:column>

						<h:column>

							<f:facet name="header">
								<h:column>
									<h:commandLink action="#{AdministratorBean.sortByOrganization}">
										<h:outputText value="Organization"></h:outputText>
									</h:commandLink>
								</h:column>
							</f:facet>

							<rich:select value="#{po.organization}"
								showControls="true" rendered="#{po.editable}">


								<f:selectItems
									value="#{AdministratorBean.editableOrganizations}" id="editOrg" />
							</rich:select>




							<h:outputText value="#{po.organization}"
								rendered="#{not po.editable}" />
						</h:column>



						<h:column>

							<f:facet name="header">Action</f:facet>

							<h:panelGrid columns="3">
								<h:commandButton class="btn btn-default" value="Edit User"
									action="#{AdministratorBean.editAction(po)}"
									rendered="#{not po.editable}" />
								<h:commandButton class="btn btn-default" value="Delete User"
									action="#{AdministratorBean.deleteUser(po)}" />
								<a4j:commandButton styleClass="btn btn-default"
									value="Change Password"
								oncomplete="$('#myModal9').modal('show')"
									action="#{AdministratorBean.updateUser(po)}">
								</a4j:commandButton>



							</h:panelGrid>

						</h:column>

					</h:dataTable>
										
<!-- Modal -->
<div class="modal fade" id="myModal9" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">close</button>
        <h4 class="modal-title" id="myModalLabel">Modal title</h4>
      </div>
      <div class="modal-body">
     <table>
			<tr  class="spaceUnder"><td>								<h:outputText value="Password" /></td><td>
											<h:inputText type="text" maxlength="40" class="form-control" value="#{AdministratorBean.pass}"></h:inputText></td><td><h:outputText value="Enter password" style="color:red;" rendered="#{AdministratorBean.renderPassword3}" /></td></tr>
											
									<tr  class="spaceUnder"><td>		<h:outputText value="Re-type Password" /></td><td>
											<h:inputText type="text"  maxlength="40" class="form-control" value="#{AdministratorBean.passwordValidate}"></h:inputText></td><td><h:outputText value="Re-type password" style="color:red" rendered="#{AdministratorBean.renderPasswordValidate3}"/></td><td><h:outputText value="Password must match" style="color:red;" rendered="#{AdministratorBean.renderPasswordNot3}" /></td></tr>
											
									</table>
										<a4j:commandButton styleClass="btn btn-default"
											value="Change password"
											action="#{AdministratorBean.changePassword()}"
											 />
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
       
      </div>
    </div>
  </div>
</div>	
					
					<table>
						<tr>
							<td><rich:dataScroller for="editUSER" maxPages="10" /></td>
						</tr>
						<tr>
							<td><h:commandButton class="btn btn-default"
									value="Save Changes" action="#{AdministratorBean.saveAction}" /></td>
						</tr>
						<tr><td><h:commandButton class="btn btn-default" value="Show all users" action="#{AdministratorBean.showAllUsers}" /></td></tr>
					</table>



</h:form>


		</div>
				 <div class="tab-pane" id="changepassword">
					<div class="container">
					<h:panelGrid column="1">


<h:form>

						<h:outputLabel for="password" value="Password : " />
						<h:inputSecret type="text" class="form-control" placeholder="Username" id="password" value="#{AdministratorBean.password}" />
						<br></br>
						<h:outputText value="Enter password" style="color:red;" rendered="#{AdministratorBean.renderPassword2}" />
					<br></br>
						<h:outputLabel for="confirmPassword" value="Confirm password : " />
						<h:inputSecret type="text" class="form-control" placeholder="Username" value="#{AdministratorBean.passwordValidate}" />
			<br></br>
					<h:outputText value="Re-type password" style="color:red;" rendered="#{AdministratorBean.renderPasswordValidate2}" />
					<h:outputText value="Password must match" style="color:red;" rendered="#{AdministratorBean.renderPasswordNot2}" />
					<br></br>
					<br></br>
						<h:commandButton class="btn btn-default" action="#{AdministratorBean.validatePassword()}"
							value="Change password" />
</h:form>
					</h:panelGrid>
					</div>
				</div>
			  <div class="tab-pane" id="organizationmanagement">
<h:form>
				<table style="display: inline-block;margin-top:50px;text-align:left;">
								<tr>
									<td><h:outputText value="Enter String to find:" /></td>
									<td><h:inputText type="text" class="form-control" value="#{AdministratorBean.nieco}" /></td><td><h:outputText style="color:red;" value="Enter string to find"  rendered="#{AdministratorBean.renderFind3}"  /></td>
								</tr>



								<tr class="spaceUnder">
									<td><rich:select  defaultLabel="Select option" value="#{AdministratorBean.findOption}">
                <f:selectItem itemValue="ID" itemLabel="ID" />
                <f:selectItem itemValue="Name of Organization" itemLabel="Name of Organization" />
              </rich:select></td><td><h:outputText value="Enter option" style="color:red;" rendered="#{AdministratorBean.renderOption3}" /></td>


								</tr>



								<tr class="spaceUnder">
									<td><h:commandButton class="btn btn-default btn-lg"
											value="Find" action="#{AdministratorBean.findListOrg}" /></td>
								</tr>
							</table>





				<table  style="float: left;margin-top:50px;margin-left:100px;margin-right:50px;">
						<tr class="spaceUnder"><td><h:outputText value="Organization" /></td><td>
						<h:inputText type="text" maxlength="100" class="form-control" id="Organization"
							value="#{AdministratorBean.organization}" /></td><td><h:outputText value="Enter name of organization" style="red:color;" rendered="#{AdministratorBean.renderOrg}" /></td></tr>



					<tr class="spaceUnder"><td><h:commandButton class="btn btn-default" action="#{AdministratorBean.createOrganization}"
						value="Create organization" /></td></tr>
				</table>
				</h:form>

		<h:form action="Administrator.xhtml#changepassword">
					<a4j:region>
						<h:form>
							<a4j:poll id="poll" interval="50" enabled="true"
								reRender="poll,tabOrg" />
						</h:form>
					</a4j:region>
					</h:form>
					
					<h:form>
					<h:dataTable value="#{AdministratorBean.organizations}" var="org"
						class="table table-hover" rows="10"
						 id="tabOrg">

						<h:column>

							<f:facet name="header">
							
								<h:commandLink action="#{AdministratorBean.sortByIdOrg}" >
									<h:outputText value="ID Organization"></h:outputText>
								</h:commandLink>
							</f:facet>
							<h:outputText value="#{org.idOrganization}"></h:outputText>

						</h:column>


						<h:column>

							<f:facet name="header">
								<h:commandLink action="#{AdministratorBean.sortByNameOrganization}" >
									<h:outputText value="Name of Organization"></h:outputText>
								</h:commandLink>
							</f:facet>
							<h:inputText value="#{org.nameOfOrganization}"
								rendered="#{org.editable}" />




							<h:outputText value="#{org.nameOfOrganization}"
								rendered="#{not org.editable}" />

						</h:column>




						<h:column>

							<f:facet name="header">Action</f:facet>

							<h:panelGrid columns="3">
								<h:commandButton class="btn btn-default" value="Edit Organization"
									action="#{AdministratorBean.editActionOrganization(org)}"
									rendered="#{not org.editable}" />
								<h:commandButton class="btn btn-default" value="Delete Organization"
									action="#{AdministratorBean.deleteOrganization(org)}" />

							</h:panelGrid>

						</h:column>

					</h:dataTable>
				
					<table>
				<tr><td><rich:dataScroller for="tabOrg" maxPages="10" /></td></tr>
					<tr><td><h:commandButton class="btn btn-default" value="Save Changes" action="#{AdministratorBean.saveActionOrganization}" /> </td></tr>
		<tr><td><a4j:commandButton value="Show all organization" styleClass="btn btn-default" action="#{AdministratorBean.showAllOrganizations()}" onclick="$('#myTab a:last').tab('show')"/></td></tr>
		</table>
		</h:form>
		</div>
				
</div>

<h:outputScript library="js" name="jquery-2.1.0.js"  />
  <h:outputScript library="js" name="bootstrap.js"  />
</f:view>
</h:body>
</html>